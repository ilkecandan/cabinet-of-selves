<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cabinet of Selves</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
</head>
<body>

<!-- Language Selector -->
<div class="language-selector">
    <label for="language">üåê</label>
    <select id="language" onchange="switchLanguage(this.value)">
        <option value="en">English</option>
        <option value="tr">T√ºrk√ße</option>
        <option value="de">Deutsch</option>
    </select>
</div>

<!-- Welcome Animation with GIF - Shown only on first visit -->
<div id="welcomeAnimation" class="welcome-overlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(255, 255, 255, 0.95); z-index: 1000; flex-direction: column; align-items: center; justify-content: center; text-align: center;">
    <h2 id="welcomeTitle">Welcome to Your Cabinet of Selves</h2>
    <p id="welcomeSubtitle">All parts of you are welcomed here.</p>
    <img src="images/hi.gif" alt="Welcome GIF" style="max-width: 200px; height: auto; margin-top: 15px;">
</div>

<!-- Header -->
<header>
    <h1 id="title">Cabinet of Selves</h1>
    <p id="welcomeText">Welcome to your inner world. Which parts want to speak today?</p>
</header>

<!-- Main Sections -->
<main>
    <section>
        <h2 id="partsHeading">Your Parts</h2>
        <button id="seeAllPartsButton" onclick="window.location.href='parts.html'">See All Parts</button>
        <button id="addNewPartButton" onclick="showAddPartModal()">Add New Part</button>
    </section>

    <section>
        <h2 id="checkInHeading">Daily Check-In</h2>
        <button id="startCheckInButton" onclick="window.location.href='daily-checkin.html'">Start Daily Check-In</button>
        <button id="viewCheckInHistoryButton" onclick="window.location.href='checkin-history.html'">View Check-In History</button>
    </section>

    <section>
        <h2 id="resourcesHeading">Resources & Tips</h2>
        <p id="youAreEnoughText">You are enough, even on the quiet days.</p>
        <a href="resources.html">Resources & Articles</a> | <a href="journal-prompts.html">Journal Prompts</a>
    </section>

    <section>
        <h2>About Us</h2>
        <p>Part of <a href="https://inktempest.com/" target="_blank">Ink & Tempest</a>, a digital experiences store.</p>
        <p>Created by <a href="https://www.linkedin.com/in/ilkecandan" target="_blank">ƒ∞lke Candan</a>.</p>
    </section>
</main>

<!-- iPhone Install Banner -->
<div id="installBanner" class="install-banner">
    üì≤ Install Cabinet of Selves on your phone!
    <button onclick="hideInstallBanner()">Got it!</button>
</div>

<!-- Add New Part Modal -->
<div id="partModal" class="modal">
    <h3 id="addPartHeading">Add a New Part</h3>
    <label for="partName" id="partNameLabel">Part Name:</label>
    <input type="text" id="partName" placeholder="Enter part name">
    <button id="addPartButton" onclick="addPart()">Add</button>
    <button id="cancelButton" onclick="hideAddPartModal()">Cancel</button>
</div>

<script>
    // Language Support
    const translations = {
        en: {
            welcomeTitle: "Welcome to Your Cabinet of Selves",
            welcomeSubtitle: "All parts of you are welcomed here.",
            welcomeText: "Welcome to your inner world. Which parts want to speak today?",
            partsHeading: "Your Parts",
            seeAllPartsButton: "See All Parts",
            addNewPartButton: "Add New Part",
            checkInHeading: "Daily Check-In",
            startCheckInButton: "Start Daily Check-In",
            viewCheckInHistoryButton: "View Check-In History",
            resourcesHeading: "Resources & Tips",
            youAreEnoughText: "You are enough, even on the quiet days.",
            addPartHeading: "Add a New Part",
            partNameLabel: "Part Name:",
            addPartButton: "Add",
            cancelButton: "Cancel",
            partNamePlaceholder: "Enter part name"
        },
        tr: {
            welcomeTitle: "Benlikler Kabinine Ho≈ü Geldiniz",
            welcomeSubtitle: "T√ºm par√ßalarƒ±nƒ±z burada ho≈ü kar≈üƒ±lanƒ±r.",
            welcomeText: "ƒ∞√ß d√ºnyanƒ±za ho≈ü geldiniz. Bug√ºn hangi par√ßalar konu≈ümak istiyor?",
            partsHeading: "Par√ßalarƒ±nƒ±z",
            seeAllPartsButton: "T√ºm Par√ßalarƒ± G√∂r",
            addNewPartButton: "Yeni Par√ßa Ekle",
            checkInHeading: "G√ºnl√ºk Kontrol",
            startCheckInButton: "G√ºnl√ºk Kontrole Ba≈üla",
            viewCheckInHistoryButton: "Kontrol Ge√ßmi≈üini G√∂r",
            resourcesHeading: "Kaynaklar & ƒ∞pu√ßlarƒ±",
            youAreEnoughText: "Sessiz g√ºnlerde bile, yeterlisiniz.",
            addPartHeading: "Yeni Bir Par√ßa Ekle",
            partNameLabel: "Par√ßa Adƒ±:",
            addPartButton: "Ekle",
            cancelButton: "ƒ∞ptal",
            partNamePlaceholder: "Par√ßa adƒ±nƒ± girin"
        },
        de: {
            welcomeTitle: "Willkommen im Schrank der Selbste",
            welcomeSubtitle: "Alle Teile von dir sind hier willkommen.",
            welcomeText: "Willkommen in Ihrer inneren Welt. Welche Teile m√∂chten heute sprechen?",
            partsHeading: "Ihre Teile",
            seeAllPartsButton: "Alle Teile anzeigen",
            addNewPartButton: "Neuen Teil hinzuf√ºgen",
            checkInHeading: "T√§glicher Check-In",
            startCheckInButton: "Check-In starten",
            viewCheckInHistoryButton: "Verlauf anzeigen",
            resourcesHeading: "Ressourcen & Tipps",
            youAreEnoughText: "Du bist genug, auch an ruhigen Tagen.",
            addPartHeading: "Neuen Teil hinzuf√ºgen",
            partNameLabel: "Teilname:",
            addPartButton: "Hinzuf√ºgen",
            cancelButton: "Abbrechen",
            partNamePlaceholder: "Teilname eingeben"
        }
    };

    function switchLanguage(lang) {
        localStorage.setItem('language', lang);
        const t = translations[lang];

        const ids = [
            "welcomeTitle", "welcomeSubtitle", "welcomeText",
            "partsHeading", "seeAllPartsButton", "addNewPartButton",
            "checkInHeading", "startCheckInButton", "viewCheckInHistoryButton",
            "resourcesHeading", "youAreEnoughText", "addPartHeading",
            "partNameLabel", "addPartButton", "cancelButton"
        ];

        ids.forEach(id => {
            const el = document.getElementById(id);
            if (el) el.innerText = t[id];
        });

        document.getElementById('partName').placeholder = t.partNamePlaceholder;
    }

    document.addEventListener('DOMContentLoaded', () => {
        const lang = localStorage.getItem('language') || 'en';
        document.getElementById('language').value = lang;
        switchLanguage(lang);

        if (!localStorage.getItem('hasVisitedBefore')) {
            showWelcomeAnimation();
        }
    });

    function showWelcomeAnimation() {
        document.getElementById('welcomeAnimation').style.display = 'flex';
        setTimeout(() => {
            document.getElementById('welcomeAnimation').style.display = 'none';
            localStorage.setItem('hasVisitedBefore', 'true');
        }, 5000);
    }
</script>
</body>
</html>
