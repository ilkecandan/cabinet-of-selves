<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Your Parts - Cabinet of Selves</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<header>
    <h1>Your Parts</h1>
    <p>Your parts are sitting here, all of them welcomed.</p>
</header>

<main>
    <button id="addPartButton" onclick="showAddPartModal()">âž• Add New Part</button>
    <div class="table-container" id="partsTable"></div>
    <a href="index.html">Back to Cabinet</a>
</main>

<!-- Add Part Modal -->
<div id="partModal" style="display: none;">
    <h3>Add New Part</h3>
    <input type="text" id="partNameInput" placeholder="Part Name">
    <button onclick="addPart()">Add</button>
    <button onclick="hideAddPartModal()">Cancel</button>
</div>

<script>
document.addEventListener('DOMContentLoaded', loadParts);

function showAddPartModal() {
    document.getElementById('partModal').style.display = 'block';
}

function hideAddPartModal() {
    document.getElementById('partModal').style.display = 'none';
}

function addPart() {
    const name = document.getElementById('partNameInput').value.trim();
    if (!name) return alert("Please enter a part name.");

    let parts = JSON.parse(localStorage.getItem('innerParts')) || [];
    parts.push({ name, img: 'images/girl.jpg' });
    localStorage.setItem('innerParts', JSON.stringify(parts));

    hideAddPartModal();
    loadParts();
}

function loadParts() {
    const parts = JSON.parse(localStorage.getItem('innerParts')) || [];
    const table = document.getElementById('partsTable');
    table.innerHTML = '';

    if (parts.length === 0) {
        table.innerHTML = `<p>No parts added yet.</p>`;
        return;
    }

    parts.forEach(part => {
        const div = document.createElement('div');
        div.innerHTML = `
            <img src="${part.img}" alt="">
            <span>${part.name}</span>
            <button onclick="viewPart('${part.name}')">View/Edit</button>
            <button onclick="removePart('${part.name}')">Remove</button>
        `;
        table.appendChild(div);
    });
}

function viewPart(name) {
    window.location.href = `part-details.html?part=${encodeURIComponent(name)}`;
}

function removePart(name) {
    let parts = JSON.parse(localStorage.getItem('innerParts')) || [];
    parts = parts.filter(p => p.name !== name);
    localStorage.setItem('innerParts', JSON.stringify(parts));
    loadParts();
}
</script>

</body>
</html>
