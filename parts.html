<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Parts - Cabinet of Selves</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<div class="language-selector">
    <label for="language">🌐</label>
    <select id="language" onchange="switchLanguage(this.value)">
        <option value="en">English</option>
        <option value="tr">Türkçe</option>
        <option value="de">Deutsch</option>
    </select>
</div>

<header>
    <h1 id="partsHeader">Your Parts</h1>
    <p id="partsDescription">Your parts are sitting here, all of them welcomed.</p>
</header>

<main>
    <div class="table-container" id="partsTable"></div>
    <a href="index.html" class="back-to-cabinet" id="backToCabinet">Back to Cabinet</a>
</main>

<script>
const translations = {
    en: { header: "Your Parts", description: "Your parts are sitting here, all of them welcomed.", back: "Back to Cabinet", viewEdit: "View / Edit", remove: "Remove" },
    tr: { header: "Parçalarınız", description: "Tüm parçalarınız burada, hepsi hoş karşılanır.", back: "Kabine Geri Dön", viewEdit: "Görüntüle / Düzenle", remove: "Kaldır" },
    de: { header: "Deine Teile", description: "Alle deine Teile sind hier willkommen.", back: "Zurück zum Schrank", viewEdit: "Ansehen / Bearbeiten", remove: "Entfernen" }
};

let currentLanguage = localStorage.getItem('language') || 'en';

function switchLanguage(lang) {
    currentLanguage = lang;
    localStorage.setItem('language', lang);
    const t = translations[lang];
    document.getElementById('partsHeader').innerText = t.header;
    document.getElementById('partsDescription').innerText = t.description;
    document.getElementById('backToCabinet').innerText = t.back;
    loadParts();
}

function loadParts() {
    const parts = JSON.parse(localStorage.getItem('innerParts')) || [];
    const table = document.getElementById('partsTable');
    table.innerHTML = '';

    if (parts.length === 0) {
        table.innerHTML = `<p>${translations[currentLanguage].description}</p>`;
        return;
    }

    parts.forEach(part => {
        const div = document.createElement('div');
        div.innerHTML = `
            <img src="${part.img}" alt="${part.name}">
            <span>${part.name}</span>
            <button onclick="viewPart('${part.name}')">${translations[currentLanguage].viewEdit}</button>
            <button onclick="removePart('${part.name}')">${translations[currentLanguage].remove}</button>`;
        table.appendChild(div);
    });
}

function viewPart(name) {
    window.location.href = `part-details.html?part=${encodeURIComponent(name)}`;
}

function removePart(name) {
    const parts = JSON.parse(localStorage.getItem('innerParts')).filter(p => p.name !== name);
    localStorage.setItem('innerParts', JSON.stringify(parts));
    loadParts();
}

document.addEventListener('DOMContentLoaded', () => switchLanguage(currentLanguage));
</script>
</body>
</html>
